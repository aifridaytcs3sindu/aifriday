ğŸ§­ 1. Overview
Objective
This document outlines an AI-assisted API Automation Framework built using Playwright and Cucumber.js, which automates API endpoint validation directly from Swagger/OpenAPI specifications with comprehensive schema validation and visual reporting.

Key Highlights:
Config-driven approach â€“ Read API specification and authentication from .env file
Auto-generates Playwright + Cucumber test suites from Swagger/OpenAPI (JSON or URL)
Schema validation â€“ Validates response structure using Ajv (required fields + data types)
Allure reporting â€“ Interactive HTML dashboards with test statistics and trends
Automatic retry logic â€“ 3 attempts per scenario for transient failures
Flexible authentication â€“ Supports Basic Auth, Bearer Token, or none
Seamlessly integrates with GitHub Copilot
Key Technologies
ğŸ§© Playwright â€“ APIRequestContext for HTTP calls and response handling
ğŸ§  Cucumber.js v10+ â€“ BDD test framework with retry configuration
âœ… Chai v5+ â€“ Assertion library for response validation
ğŸ”’ Ajv v8+ â€“ JSON Schema validation for API contract compliance
ğŸ“Š Allure â€“ Primary reporting tool with interactive dashboards
ğŸ¤– GitHub Copilot â€“ AI-powered test generation from .copilot-instructions
ğŸ” dotenv â€“ Environment variable management
Purpose
To create a configuration-driven, schema-validated, and visually reportable API automation suite that:

Runs against Swagger/OpenAPI-defined endpoints
Validates API contract compliance (schema validation)
Categorizes failures (Critical, Validation Gaps, Schema Violations)
Generates multiple report formats (Cucumber HTML/JSON, Allure dashboard, TEST_SUMMARY.md)
Requires zero manual intervention after initial .env configuration
âš™ï¸ 2. Prerequisites
Before running the framework, ensure the following prerequisites:

Required Software
Node.js v18+ and npm
Active GitHub Copilot Business License
Playwright v1.45+ (APIRequestContext support)
Cucumber.js v10+ (BDD framework with retry)
Swagger/OpenAPI specification (JSON file or URL)
Required Libraries
Chai v5+ â€“ Assertions
Ajv v8+ & ajv-formats â€“ JSON Schema validation
Allure (allure-cucumberjs, allure-commandline) â€“ Interactive reporting
dotenv â€“ Environment configuration
ğŸ’» Supported IDEs
IDE	Status	Notes
VS Code	âœ… Recommended	Seamless Copilot & GHCP integration
IntelliJ IDEA	âœ… Supported	Minor confirmation prompts during auto-fix
ğŸ§© 3. Architecture & Process Flow
High-Level Flow
Key Features
Configuration-Driven: All settings in .env (no hardcoded values)
Schema Validation: Validates response structure against API specification
Automatic Retry: Cucumber retries failed scenarios 3 times
Failure Categorization: Critical, Validation Gaps, Schema Violations, Not Applicable
Multiple Reports: Cucumber, Allure, and markdown summaries
ğŸš€ 4. Setup & Configuration
Step 1: Configure .env File
Create a .env file at the project root:

Step 2: Generate Tests Using Copilot
Simply provide this prompt to GitHub Copilot:

Step 3: Execute Tests
ğŸ“‚ 5. Project Structure
ğŸ§ª 6. Test Coverage
For Each Endpoint Operation:
1. Positive Scenarios (200/201/204)
Validates successful operations per Swagger/OpenAPI definitions
Schema validation performed on responses:
GET (200): ALWAYS validate response schema
POST/PUT (200/201): Validate IF response returns an object
If test fails â†’ indicates API bug (not test bug)
2. Negative Scenarios
HTTP Method	Tested Negative Codes
GET	401, 404, 500
POST	400, 401, 404, 500
PUT	400, 404, 500
DELETE	400, 404, 500
Note: Negative tests may fail if:

API lacks input validation (returns 200 instead of 400) â†’ Validation Gap
API returns wrong error code (returns 500 instead of 400) â†’ Wrong Error Code
These are documented in TEST_SUMMARY.md as expected failures.

ğŸ”„ 7. Retry & Failure Handling
Automatic Retry Logic
Cucumber configuration: retry: 3 (3 attempts per scenario)
Purpose: Handle transient environment issues (network glitches, temporary service issues)
Behavior:
Test fails â†’ automatically retries up to 3 times
Passes on retry â†’ transient issue (test passes)
Fails all 3 retries â†’ genuine API issue (marked as FAILED)
Failure Categorization
All failures are documented in TEST_SUMMARY.md:

1. Positive Scenario Failures (CRITICAL)
Swagger-defined success responses that fail
Example: POST expects 200 but returns 500
Action: These indicate API bugs
2. Negative Scenario Failures - Validation Gaps
API returns 200 instead of 400 (missing input validation)
Documented in "Not Applicable Test Cases"
Reason: API lacks input validation
3. Negative Scenario Failures - Wrong Error Code
API returns 500 instead of 400/404
Documented in "Failed Test Cases â†’ Negative Scenarios"
Reason: API has poor error handling
4. Schema Validation Failures (CRITICAL)
Response structure doesn't match API specification
Examples: Missing required fields, wrong data types, unexpected fields
Action: API contract violation - requires immediate attention
5. Parallel Execution Support
The framework is configured for parallel execution via Cucumber.js, though currently set to sequential mode (parallel: 1) for stability.
ğŸ“Š 8. Reporting
Three Report Types Generated:
1. Cucumber HTML/JSON Reports
Location: cucumber-report.html, cucumber-report.json
Basic test execution summary with step-level details
2. Allure Report (Primary)
Location: index.html
Interactive dashboard with:
Test statistics and trends
Categorized failures
Step-level logs and stack traces
Drill-down capabilities
Open with: npm run allure:open
3. TEST_SUMMARY.md
Comprehensive markdown summary with:
Test Results (Total, Passed, Failed, Success Rate)
Test Coverage by Endpoint (âœ…/âŒ/âš ï¸)
Failed Test Cases (categorized by type)
Not Applicable Test Cases (validation gaps)
API Issues Requiring Attention (Critical vs Behavior Issues)
Next Steps (prioritized action items)
ğŸ§ª 9. Sample Test Case
Note:

Each test is self-contained with automatic retry (3 attempts)
Schema validation is performed on successful responses
Failures are categorized and documented in TEST_SUMMARY.md
ğŸ” 10. Key Observations
Configuration-Driven Approach
All configuration centralized in .env file
No hardcoded values in test code
Easy to switch between environments or API specifications
Schema Validation
Validates API contract compliance using Ajv
Catches response structure issues early
Documented as CRITICAL failures (API contract violations)
Authentication Flexibility
Supports multiple auth types: basic, bearer, none
Configured via AUTH_TYPE in .env
No code changes needed to switch auth methods
IDE Integration
VS Code: Seamless Copilot integration, recommended
IntelliJ IDEA: Fully supported with minor confirmation prompts
Test Philosophy
Tests NEVER modified to match API behavior
Tests reflect expected behavior per specification
Failures indicate API issues, not test issues
Pass rate may be < 100% due to API bugs (this is expected)
ğŸ 11. Conclusion
This framework demonstrates how Playwright + Cucumber + Ajv + Allure + GitHub Copilot can automate comprehensive API testing using Swagger/OpenAPI specifications with:

âœ… Zero manual intervention after .env configuration
âœ… Schema validation for API contract compliance
âœ… Flexible authentication (basic/bearer/none)
âœ… Automatic retry logic (3 attempts per scenario)
âœ… Visual reporting with Allure dashboards
âœ… Failure categorization (Critical, Validation Gaps, Schema Violations)
âœ… AI-assisted test generation via GitHub Copilot

The framework ensures reliable, repeatable regression testing that adapts dynamically to API changes while maintaining strict validation of API contracts and behavior.

Key Differences from Previous Version:
âœ… Added .env configuration-driven approach
âœ… Added schema validation with Ajv
âœ… Added Allure reporting as primary reporter
âœ… Added authentication flexibility (basic/bearer/none)
âœ… Updated failure categorization (4 categories including schema violations)
âœ… Clarified retry logic (Cucumber scenario-level, 3 attempts)
âœ… Added detailed reporting section (3 report types)
âœ… Updated tech stack versions (Cucumber v10+, Chai v5+, Ajv v8+)
âœ… Removed "self-healing" terminology (it's retry logic, not self-healing)
âœ… Added complete project structure with comments
This revised version accurately reflects your current framework with all recent enhancements!
