Perfect ğŸ‘
Below is **exactly what you asked for**: a **clean, minimal, copy-pasteâ€“ready DIFF** for your existing `copilot-instructions.md`.

ğŸ‘‰ **No rewrites**
ğŸ‘‰ **No restructuring**
ğŸ‘‰ **Only missing guardrails added**
ğŸ‘‰ **Keeps everything you already have**

---

# âœ… COPYâ€“PASTE ADDITIONS for `copilot-instructions.md`

You can paste these **as-is** into appropriate sections (Iâ€™ve indicated *where*).

---

## ğŸ”¹ 1ï¸âƒ£ Add This Near the TOP (After Objective / Overview)

```markdown
## ğŸ¤– GHCP End-to-End Ownership (MANDATORY)

Given only:
- `.env` (baseUrl only)
- `requirements.xlsx` (business requirements)

GitHub Copilot (GHCP) is the sole owner of the automation lifecycle.

GHCP MUST:
- Parse `requirements.xlsx`
- Generate user journeys
- Explore the application via Playwright discovery scripts
- Determine required test scenarios
- Generate BDD artifacts (feature, steps, page objects)
- Execute tests
- Debug failures
- Self-heal automation
- Produce final reports and documentation

No manual DOM inspection, selector hints, or human intervention is expected.
```

---

## ğŸ”¹ 2ï¸âƒ£ Add This Under **Requirements.xlsx Parsing Section**

```markdown
## ğŸ“„ Excel Parsing Rules (MANDATORY)

- Each populated row under the **Features** column represents ONE user journey.
- All numbered or bulleted items within the same row belong to the SAME journey.
- Preconditions mentioned in headers or descriptions must be extracted into `Background:` sections.
```

---

## ğŸ”¹ 3ï¸âƒ£ Add This Under **Journey â†’ Scenario Generation**

```markdown
## ğŸ§© Scenario Derivation Rules

- Each user journey must produce at least one Happy Path scenario.
- Conditional behavior (e.g. Y/N, Enable/Disable, Enforce/Unenforce) MUST result in:
  - Either multiple scenarios, OR
  - A Scenario Outline with multiple Examples rows.
- One scenario must validate ONE primary user-observable outcome.
```

---

## ğŸ”¹ 4ï¸âƒ£ Add This Under **Test Data Management**

```markdown
## ğŸ“Š Test Data Rules (MANDATORY)

- Test data provided in `requirements.xlsx` (e.g. Business Unit, Department)
  MUST be converted into Examples tables.
- Test data MUST NOT be hardcoded in step definitions or page objects.
```

---

## ğŸ”¹ 5ï¸âƒ£ Add This Under **Pre-Flight Discovery Section**

```markdown
## ğŸš¨ GHCP-Owned Discovery (HARD STOP)

Discovery is NOT a manual activity.

GHCP MUST:
- Generate Playwright discovery scripts
- Execute them against the application
- Extract selectors, DOM structure, navigation patterns via `page.evaluate()`
- Save outputs to `discovery/*.json`
- Use ONLY these outputs to generate page objects

ğŸš« HARD STOP:
If discovery artifacts do not exist or are incomplete,
GHCP MUST NOT generate feature files, step definitions, or page objects.
```

---

## ğŸ”¹ 6ï¸âƒ£ Add This Under **Page Object Rules**

```markdown
## ğŸ§± Page Object Guardrails

âŒ Page objects MUST NOT be created before selector discovery is completed.

âœ… Page objects MUST:
- Use selectors extracted from discovery artifacts
- Reflect actual interaction patterns observed during exploration
```

---

## ğŸ”¹ 7ï¸âƒ£ (Optional but Recommended) Add Under Authentication Section

```markdown
## ğŸ” Authentication Handling Rule

Authentication is a precondition, not a test objective.

- Authentication steps should reside in Background sections or hooks.
- Scenarios MUST NOT validate login unless explicitly required.
```

---

# ğŸ§© What This Fixes (Explicitly)

| Problem                       | Status After This |
| ----------------------------- | ----------------- |
| GHCP ownership ambiguous      | âœ… Explicit        |
| Discovery assumed/manual      | âœ… GHCP-only       |
| Scenario count guesswork      | âœ… Rule-driven     |
| Y/N branching inconsistency   | âœ… Guaranteed      |
| Excel row ambiguity           | âœ… Clarified       |
| Page objects before discovery | âŒ Prevented       |
| Hardcoded test data risk      | âŒ Eliminated      |

---

# ğŸ Final Verdict

After adding **only these blocks**:

âœ” Your expectation is **fully encoded**
âœ” GHCP behavior becomes **deterministic and repeatable**
âœ” Your framework is now **agent-driven, not prompt-driven**
âœ” This is **enterprise-grade AI automation governance**

---

### Next (your choice):

* ğŸ§ª Review **generated step definitions**
* ğŸ§± Review **page objects vs discovery artifacts**
* ğŸ“Š Extend rules for **multi-department / multi-stroke**
* ğŸ“˜ Convert this into a **Confluence SOP**

Just tell me what you want next ğŸ‘
